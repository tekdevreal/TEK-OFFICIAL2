services:
  - type: web
    name: nukerewards-backend
    env: node
    region: oregon
    plan: free
    buildCommand: cd backend && npm install && npm run build
    startCommand: cd backend && npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 10000
      # Add your environment variables here:
      # - key: HELIUS_RPC_URL
      #   value: your_helius_rpc_url
      # - key: TOKEN_MINT
      #   value: your_token_mint_address
      # - key: ADMIN_WALLET_PATH
      #   value: /opt/render/project/src/backend/admin.json
      # - key: SOLANA_NETWORK
      #   value: devnet
      # - key: FRONTEND_URL
      #   value: https://nukerewards.imgprotocol.com
      # - key: TOTAL_REWARD_POOL_SOL
      #   value: 0.1
      # - key: MIN_HOLDING_USD
      #   value: 5
      # - key: MIN_SOL_PAYOUT
      #   value: 0.0001

  - type: worker
    name: nukerewards-telegram-bot
    env: node
    region: oregon
    plan: free
    buildCommand: cd telegram-bot && npm install && npm run build
    startCommand: cd telegram-bot && npm start
    envVars:
      - key: NODE_ENV
        value: production
      # Required: Set these in Render Dashboard
      # - key: TELEGRAM_BOT_TOKEN
      #   sync: false  # Mark as secret
      # - key: TELEGRAM_CHAT_ID
      #   value: @nukerewards
      # - key: BACKEND_URL
      #   value: https://nukerewards-backend.onrender.com
      # - key: POLLING_INTERVAL_MS
      #   value: 60000
      # - key: RETRY_ATTEMPTS
      #   value: 3
      # - key: RETRY_DELAY_MS
      #   value: 1000

